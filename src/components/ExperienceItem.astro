---
export interface Props {
  title: string;
  description: string;
  date: string;
  link?: string;
  icon?: string;
  company?: string;
}

const { title, description, date, icon, link, company } = Astro.props;
---

<!-- Timeline dot -->
<div class="absolute w-3 h-3 bg-gray-200 rounded-full mt-2 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-200"></div>

<!-- Date -->
<time class="mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">
  {date}
</time>

<!-- Header row: Logo + Company + Title -->
<div class="mt-2 mb-3 flex items-start gap-4">
  {icon && (
    link ? (
      <a
        href={link}
        target="_blank"
        rel="noopener noreferrer"
        aria-label={`${company ?? title} website`}
        class="flex items-center justify-center w-12 h-12 rounded-xl bg-gray-800
               border border-gray-700
               transition hover:scale-105 hover:ring-2 hover:ring-sky-300/40
               focus:outline-none focus:ring-2 focus:ring-sky-300/50"
      >
      <div class="flex items-center justify-center w-12 h-12 rounded-xl
                  bg-gray-800/90
                  ring-1 ring-white/10
                  shadow-sm overflow-hidden">
        <img
          src={icon}
          alt=""
          loading="lazy"
          class="w-16 h-16 object-contain"
        />
      </div>
      </a>
    ) : (
      <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-gray-800 border border-gray-700">
        <img
          src={icon}
          alt=""
          class="w-9 h-9 object-contain"
          loading="lazy"
        />
      </div>
    )
  )}

  <div class="flex flex-col">
    {company && (
      <span class={`text-sm font-medium ${
        company.includes('Partner') ? 'text-emerald-400' : 'text-sky-300'
      }`}>
        {company}
      </span>
    )}

    <h3 class="text-lg font-semibold text-white leading-tight">
      {title}
    </h3>
  </div>
</div>

<!-- Description -->
<p class="text-base font-normal text-gray-500 dark:text-gray-400 whitespace-pre-line leading-relaxed">
  {description}
</p>

<!-- Company website link -->
<!-- {link && (
  <a
    href={link}
    target="_blank"
    rel="noopener noreferrer"
    class="mt-3 inline-flex items-center gap-1 text-sm text-sky-300/80
           hover:text-sky-300 transition"
  >
    {company ?? 'Company website'}
    <svg
      class="w-3.5 h-3.5"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M13.5 6H19.5V12M10.5 13.5L19.5 6M18 18H6V6H12"
      />
    </svg>
  </a>
)} -->
